{"remainingRequest":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\src\\components\\Mislistas.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\src\\components\\Mislistas.vue","mtime":1652872202993},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652867793358},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\node_modules\\ts-loader\\index.js","mtime":1652867800549},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1652867793358},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\daw\\taller-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":1652867801372}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOw0KaW1wb3J0IFRhc2tMaXN0IGZyb20gJ0AvbW9kZWxzL1Rhc2tMaXN0JzsNCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsNCg0KQENvbXBvbmVudCh7DQogICBmaWx0ZXJzOiB7DQogICAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiAodmFsdWU6IGFueSkgew0KICAgICAgICAgLy9UT0RPLCB2ZXJpZmljYXIgcXVlIGhheSBhbGdvIGVuIHZhbHVlIQ0KICAgICAgICAgbGV0IGF1eCA9IG1vbWVudCh2YWx1ZSk7DQogICAgICAgICByZXR1cm4gYXV4LmZvcm1hdCgiREQvTU0vWVlZWSBoaDptbTpzcyIpOw0KICAgICAgfQ0KICAgfQ0KfSkNCg0KZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWlzbGlzdGFzIGV4dGVuZHMgVnVlIHsNCiAgICRyZWZzITogew0KICAgIG5ld0xpc3Rfbm9tYnJlOiBIVE1MRm9ybUVsZW1lbnQNCiAgfQ0KICAgQFByb3AoKSBwcml2YXRlIHRpdHVsbyE6IHN0cmluZzsNCiAgIG1vZGU9Imxpc3QiOw0KICAgLy9WVUVYOiBsaXN0czpUYXNrTGlzdFtdPVtdOw0KICAgbmV3TGlzdDpUYXNrTGlzdD1uZXcgVGFza0xpc3QoKTsNCiAgIGVyckxpc3Q9IHtub21icmU6IGZhbHNlfTsNCiAgIHNsY3RWaXNpYmxlPSdUJzsNCiAgIGVyckdldD0iIjsNCiAgIGVyckFkZD0iIjsNCiAgIG1vdW50ZWQoKSB7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0UHJvZHVjdG9zIik7Ly9BcXVpIHNlIGxsYW1hIGFsIG1ldG9kbyBkZWwgYXBpDQogICAgICB0aGlzLmVyckdldD0iIjsNCiAgICAgIGlmICh0aGlzLmhheUVycm9yKCkpIHsNCiAgICAgICAgIHRoaXMuZXJyR2V0ID0gdGhpcy5nZXRFcnJvcigpOw0KICAgICAgfQ0KICAgfQ0KICAgaGF5RXJyb3IoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFcnJvciE9IiI7IA0KICAgfQ0KICAgZ2V0RXJyb3IoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFcnJvcjsNCiAgIH0NCiAgIGdldEFsbCgpIHsNCiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEFsbDsNCiAgIH0NCiAgIGdldENvdW50KCkgew0KICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0Q291bnQ7DQogICB9DQogICBhZGRNb2RlKCk6dm9pZCB7DQogICAgICAvL1ZVRVg6IGxldCBuZXh0SWQ9IHRoaXMubGlzdHMubGVuZ3RoPjA/dGhpcy5saXN0c1t0aGlzLmxpc3RzLmxlbmd0aC0xXS5pZCsxOisxOw0KICAgICAgLy9BUEk6IGxldCBuZXh0SWQ9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmV4dElkOw0KICAgICAgdGhpcy5uZXdMaXN0ID0gbmV3IFRhc2tMaXN0KCk7DQogICAgICAvL0FQSTogdGhpcy5uZXdMaXN0LmlkPSBuZXh0SWQ7DQogICAgICB0aGlzLm1vZGU9ImFkZCI7DQogICAgICB0aGlzLmVyckxpc3Qubm9tYnJlPWZhbHNlOw0KICAgfQ0KICAgbGlzdE1vZGUoKTp2b2lkIHsNCiAgICAgIHRoaXMubW9kZT0ibGlzdCI7DQogICB9DQogICBhZGRMaXN0KCk6dm9pZCB7DQogICAgICBpZiAodGhpcy5uZXdMaXN0Lm5vbWJyZSAhPSAiIikgew0KICAgICAgICAgdGhpcy5uZXdMaXN0LmZlY2hhID0gbW9tZW50KCk7DQoJCQkvL1ZVRVg6IHRoaXMubGlzdHMucHVzaCh0aGlzLm5ld0xpc3QpOw0KICAgICAgICAgLy9BUEk6IHRoaXMuJHN0b3JlLmNvbW1pdCgnYWRkJywgdGhpcy5uZXdMaXN0KTsNCiAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZGRMaXN0IiwgdGhpcy5uZXdMaXN0KTsNCiAgICAgICAgIHRoaXMuZXJyQWRkPSIiOw0KICAgICAgICAgaWYgKHRoaXMuaGF5RXJyb3IoKSkgew0KICAgICAgICAgICAgdGhpcy5lcnJBZGQgPSB0aGlzLmdldEVycm9yKCk7DQogICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5tb2RlID0gJ2xpc3QnOw0KICAgICAgICAgfQ0KCQl9IGVsc2Ugew0KCQkJdGhpcy5lcnJMaXN0Lm5vbWJyZSA9IHRydWU7DQoJCQl0aGlzLiRyZWZzLm5ld0xpc3Rfbm9tYnJlLmZvY3VzKCk7DQoJCX0NCiAgIH0NCiAgIGRlbGV0ZUxpc3QobGlzdDpudW1iZXIpIHsNCiAgICAgIC8vVlVFWDogdGhpcy5saXN0cy5zcGxpY2UobGlzdCwgMSk7DQogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2RlbCcsIGxpc3QpOw0KICAgfQ0KfQ0K"},{"version":3,"sources":["Mislistas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mislistas.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n   <div>\r\n      <h1>{{ titulo }}</h1>\r\n      <button v-if=\"mode!='add'\" v-on:click=\"addMode()\" class=\"btn btn-primary\">\r\n         {{$t('add.btnNewItem')}}\r\n      </button>\r\n\r\n      <div class=\"alert alert-danger\" v-if=\"errGet!=''\">Error: {{errGet}}</div>\r\n      \r\n      <div class=\"container\" v-if=\"errGet=='' && mode=='list'\">\r\n         <fieldset>\r\n            <legend>{{$t('productos.titulo')}}</legend>\r\n            <template v-for=\"(list) in getAll()\">\r\n               <div class=\"card\" v-bind:key=\"list.id\" v-if=\"true\"\r\n               v-bind:style=\"{ 'background-color': list.color}\">\r\n                  <div class=\"card-body\">\r\n                     test\r\n                  </div>\r\n               </div>\r\n            </template>\r\n            <div v-if=\"getCount()==0\" class=\"alert alert-warning\">\r\n               {{$t('productos.noItems')}}\r\n            </div>\r\n         </fieldset>\r\n      </div>\r\n\r\n      <div class=\"container\" v-if=\"errGet=='' && mode=='add'\">\r\n         <fieldset>\r\n            <legend>{{$t('add.titulo')}}</legend>\r\n            <form>\r\n               <div class=\"form-group\">\r\n                  <label for=\"addListNombre\">{{$t('add.lblNombre')}}</label>\r\n                  <input ref=\"newList_nombre\" v-model=\"newList.nombre\" type=\"text\" \r\n                  class=\"form-control\" id=\"addListNombre\" \r\n                  v-bind:placeholder=\"$t('add.ttpNombre')\">\r\n                  <span v-if=\"errList.nombre\" class=\"small text-danger\">\r\n                        {{$t('add.errNombre')}}\r\n                  </span>\r\n               </div>\r\n               <div class=\"form-group\">\r\n                  <label for=\"addListColor\"> {{$t('add.lblColor')}}</label>\r\n                  <input v-model=\"newList.color\" type=\"color\" class=\"form-control\" \r\n                  id=\"addListColor\">\r\n               </div>  \r\n            </form>\r\n            <div class=\"btn-group\">\r\n               <button v-on:click=\"addList()\" class=\"btn btn-primary\">\r\n                  {{$t('add.btnCreate')}}\r\n               </button>\r\n               <button v-on:click=\"listMode()\" class=\"btn btn-danger\">\r\n                  {{$t('app.btnAtras')}}\r\n               </button>\r\n            </div> \r\n            <div class=\"alert alert-danger\" v-if=\"errAdd!=''\">Error: {{errAdd}}</div>\r\n         </fieldset>\r\n      </div>\r\n   </div>\r\n</template>\r\n\r\n<style scoped>\r\n.tituloLista { font-size: 2em;}\r\n</style>\r\n\r\n<script lang=\"ts\">\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport TaskList from '@/models/TaskList';\r\nimport moment from 'moment';\r\n\r\n@Component({\r\n   filters: {\r\n      formatDate: function (value: any) {\r\n         //TODO, verificar que hay algo en value!\r\n         let aux = moment(value);\r\n         return aux.format(\"DD/MM/YYYY hh:mm:ss\");\r\n      }\r\n   }\r\n})\r\n\r\nexport default class Mislistas extends Vue {\r\n   $refs!: {\r\n    newList_nombre: HTMLFormElement\r\n  }\r\n   @Prop() private titulo!: string;\r\n   mode=\"list\";\r\n   //VUEX: lists:TaskList[]=[];\r\n   newList:TaskList=new TaskList();\r\n   errList= {nombre: false};\r\n   slctVisible='T';\r\n   errGet=\"\";\r\n   errAdd=\"\";\r\n   mounted() {\r\n      this.$store.dispatch(\"getProductos\");//Aqui se llama al metodo del api\r\n      this.errGet=\"\";\r\n      if (this.hayError()) {\r\n         this.errGet = this.getError();\r\n      }\r\n   }\r\n   hayError() {\r\n      return this.$store.getters.getError!=\"\"; \r\n   }\r\n   getError() {\r\n      return this.$store.getters.getError;\r\n   }\r\n   getAll() {\r\n      return this.$store.getters.getAll;\r\n   }\r\n   getCount() {\r\n      return this.$store.getters.getCount;\r\n   }\r\n   addMode():void {\r\n      //VUEX: let nextId= this.lists.length>0?this.lists[this.lists.length-1].id+1:+1;\r\n      //API: let nextId= this.$store.getters.getNextId;\r\n      this.newList = new TaskList();\r\n      //API: this.newList.id= nextId;\r\n      this.mode=\"add\";\r\n      this.errList.nombre=false;\r\n   }\r\n   listMode():void {\r\n      this.mode=\"list\";\r\n   }\r\n   addList():void {\r\n      if (this.newList.nombre != \"\") {\r\n         this.newList.fecha = moment();\r\n\t\t\t//VUEX: this.lists.push(this.newList);\r\n         //API: this.$store.commit('add', this.newList);\r\n         this.$store.dispatch(\"addList\", this.newList);\r\n         this.errAdd=\"\";\r\n         if (this.hayError()) {\r\n            this.errAdd = this.getError();\r\n         } else {\r\n            this.mode = 'list';\r\n         }\r\n\t\t} else {\r\n\t\t\tthis.errList.nombre = true;\r\n\t\t\tthis.$refs.newList_nombre.focus();\r\n\t\t}\r\n   }\r\n   deleteList(list:number) {\r\n      //VUEX: this.lists.splice(list, 1);\r\n      this.$store.commit('del', list);\r\n   }\r\n}\r\n</script>\r\n\r\n\r\n"]}]}