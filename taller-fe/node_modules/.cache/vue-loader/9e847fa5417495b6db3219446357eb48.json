{"remainingRequest":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\src\\components\\Mislistas.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\src\\components\\Mislistas.vue","mtime":1642599520000},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Andy\\Desktop\\Master\\2º\\DAW\\Proyecto\\tallerVueFinal\\taller-fe\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgeyBDb21wb25lbnQsIFByb3AsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgVGFza0xpc3QgZnJvbSAnQC9tb2RlbHMvVGFza0xpc3QnOwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CgpAQ29tcG9uZW50KHsKICAgZmlsdGVyczogewogICAgICBmb3JtYXREYXRlOiBmdW5jdGlvbiAodmFsdWU6IGFueSkgewogICAgICAgICAvL1RPRE8sIHZlcmlmaWNhciBxdWUgaGF5IGFsZ28gZW4gdmFsdWUhCiAgICAgICAgIGxldCBhdXggPSBtb21lbnQodmFsdWUpOwogICAgICAgICByZXR1cm4gYXV4LmZvcm1hdCgiREQvTU0vWVlZWSBoaDptbTpzcyIpOwogICAgICB9CiAgIH0KfSkKCmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pc2xpc3RhcyBleHRlbmRzIFZ1ZSB7CiAgICRyZWZzITogewogICAgbmV3TGlzdF9ub21icmU6IEhUTUxGb3JtRWxlbWVudAogIH0KICAgQFByb3AoKSBwcml2YXRlIHRpdHVsbyE6IHN0cmluZzsKICAgbW9kZT0ibGlzdCI7CiAgIC8vVlVFWDogbGlzdHM6VGFza0xpc3RbXT1bXTsKICAgbmV3TGlzdDpUYXNrTGlzdD1uZXcgVGFza0xpc3QoKTsKICAgZXJyTGlzdD0ge25vbWJyZTogZmFsc2V9OwogICBzbGN0VmlzaWJsZT0nVCc7CiAgIGVyckdldD0iIjsKICAgZXJyQWRkPSIiOwogICBtb3VudGVkKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0TGlzdHMiKTsKICAgICAgdGhpcy5lcnJHZXQ9IiI7CiAgICAgIGlmICh0aGlzLmhheUVycm9yKCkpIHsKICAgICAgICAgdGhpcy5lcnJHZXQgPSB0aGlzLmdldEVycm9yKCk7CiAgICAgIH0KICAgfQogICBoYXlFcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RXJyb3IhPSIiOyAKICAgfQogICBnZXRFcnJvcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0RXJyb3I7CiAgIH0KICAgZ2V0QWxsKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRBbGw7CiAgIH0KICAgZ2V0Q291bnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldENvdW50OwogICB9CiAgIGFkZE1vZGUoKTp2b2lkIHsKICAgICAgLy9WVUVYOiBsZXQgbmV4dElkPSB0aGlzLmxpc3RzLmxlbmd0aD4wP3RoaXMubGlzdHNbdGhpcy5saXN0cy5sZW5ndGgtMV0uaWQrMTorMTsKICAgICAgLy9BUEk6IGxldCBuZXh0SWQ9IHRoaXMuJHN0b3JlLmdldHRlcnMuZ2V0TmV4dElkOwogICAgICB0aGlzLm5ld0xpc3QgPSBuZXcgVGFza0xpc3QoKTsKICAgICAgLy9BUEk6IHRoaXMubmV3TGlzdC5pZD0gbmV4dElkOwogICAgICB0aGlzLm1vZGU9ImFkZCI7CiAgICAgIHRoaXMuZXJyTGlzdC5ub21icmU9ZmFsc2U7CiAgIH0KICAgbGlzdE1vZGUoKTp2b2lkIHsKICAgICAgdGhpcy5tb2RlPSJsaXN0IjsKICAgfQogICBhZGRMaXN0KCk6dm9pZCB7CiAgICAgIGlmICh0aGlzLm5ld0xpc3Qubm9tYnJlICE9ICIiKSB7CiAgICAgICAgIHRoaXMubmV3TGlzdC5mZWNoYSA9IG1vbWVudCgpOwoJCQkvL1ZVRVg6IHRoaXMubGlzdHMucHVzaCh0aGlzLm5ld0xpc3QpOwogICAgICAgICAvL0FQSTogdGhpcy4kc3RvcmUuY29tbWl0KCdhZGQnLCB0aGlzLm5ld0xpc3QpOwogICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYWRkTGlzdCIsIHRoaXMubmV3TGlzdCk7CiAgICAgICAgIHRoaXMuZXJyQWRkPSIiOwogICAgICAgICBpZiAodGhpcy5oYXlFcnJvcigpKSB7CiAgICAgICAgICAgIHRoaXMuZXJyQWRkID0gdGhpcy5nZXRFcnJvcigpOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1vZGUgPSAnbGlzdCc7CiAgICAgICAgIH0KCQl9IGVsc2UgewoJCQl0aGlzLmVyckxpc3Qubm9tYnJlID0gdHJ1ZTsKCQkJdGhpcy4kcmVmcy5uZXdMaXN0X25vbWJyZS5mb2N1cygpOwoJCX0KICAgfQogICBkZWxldGVMaXN0KGxpc3Q6bnVtYmVyKSB7CiAgICAgIC8vVlVFWDogdGhpcy5saXN0cy5zcGxpY2UobGlzdCwgMSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZGVsJywgbGlzdCk7CiAgIH0KICAgdmlzaWJsZUxpc3QoaW5kZXg6bnVtYmVyKSB7CiAgICAgIC8vVlVFWDogdGhpcy5saXN0c1tpbmRleF0udmlzaWJsZSA9ICh0aGlzLmxpc3RzW2luZGV4XS52aXNpYmxlID8gZmFsc2UgOiB0cnVlKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRWaXNpYmxlJywgaW5kZXgpOwogICB9CiAgIGdldFZpc2liaWxpdHkoaW5kZXg6bnVtYmVyKSB7CiAgICAgIGxldCByZXMgPSB0cnVlOwogICAgICBzd2l0Y2ggKHRoaXMuc2xjdFZpc2libGUpIHsKICAgICAgICAgY2FzZSAiViI6CiAgICAgICAgICAgIC8vVlVFWDogcmVzID0gdGhpcy5saXN0c1tpbmRleF0udmlzaWJsZTsKICAgICAgICAgICAgcmVzID0gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRWaXNpYmxlKGluZGV4KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIGNhc2UgIk4iOgogICAgICAgICAgICAvL1ZVRVg6IHJlcyA9ICF0aGlzLmxpc3RzW2luZGV4XS52aXNpYmxlOwogICAgICAgICAgICByZXMgPSAhdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRWaXNpYmxlKGluZGV4KTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJlcyA9IHRydWU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIHJldHVybiByZXM7CiAgIH0KfQo="},{"version":3,"sources":["Mislistas.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Mislistas.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <div>\n      <h1>{{ titulo }}</h1>\n      <button v-if=\"mode!='add'\" v-on:click=\"addMode()\" class=\"btn btn-primary\">\n         {{$t('add.btnAdd')}}\n      </button>\n\n      <div class=\"alert alert-danger\" v-if=\"errGet!=''\">Error: {{errGet}}</div>\n      \n      <div class=\"container\" v-if=\"errGet=='' && mode=='list'\">\n         <fieldset>\n            <legend>{{$t('list.titulo')}}</legend>\n            <div class=\"row justify-content-end\">\n               <select class=\"form-control col-md-3\" v-model=\"slctVisible\">\n                  <option value=\"T\">{{$t('list.optTodas')}}</option>\n                  <option value=\"V\">{{$t('list.optVisibles')}}</option>\n                  <option value=\"N\">{{$t('list.optNOVisibles')}}</option>\n               </select>\n            </div>\n            <template v-for=\"(list, index) in getAll()\">\n               <div class=\"card\" v-bind:key=\"list.id\" v-if=\"getVisibility(index)\"\n               v-bind:style=\"{ 'background-color': list.color}\">\n                  <div class=\"card-body\">\n                     <div class=\"tituloLista\">\n                        {{list.nombre}}\n                        <div class=\"btn-group\">\n                           <button v-on:click=\"deleteList(index)\" \n                           class=\"btn btn-sm btn-danger\" \n                           v-bind:title=\"$t('delete.ttpBtn')\">\n                              <font-awesome-icon icon=\"trash\"></font-awesome-icon>\n                           </button>\n                           <button v-if=\"list.visible==true\"  v-on:click=\"visibleList(index)\" \n                           class=\"btn btn-sm btn-info\" v-bind:title=\"$t('list.ttpNoVisible')\">\n                              <font-awesome-icon icon=\"eye-slash\"></font-awesome-icon>\n                           </button>\n                           <button v-if=\"list.visible==false\" v-on:click=\"visibleList(index)\" \n                           class=\"btn btn-sm btn-info\" v-bind:title=\"$t('list.ttpVisible')\">\n                              <font-awesome-icon icon=\"eye\"></font-awesome-icon>\n                           </button>\n                        </div>\n                     </div>\n                     <small>{{list.fecha | formatDate}}</small>\n                  </div>\n               </div>\n            </template>\n            <div v-if=\"getCount()==0\" class=\"alert alert-warning\">\n               {{$t('list.noLists')}}\n            </div>\n         </fieldset>\n      </div>\n\n      <div class=\"container\" v-if=\"errGet=='' && mode=='add'\">\n         <fieldset>\n            <legend>{{$t('add.titulo')}}</legend>\n            <form>\n               <div class=\"form-group\">\n                  <label for=\"addListNombre\">{{$t('add.lblNombre')}}</label>\n                  <input ref=\"newList_nombre\" v-model=\"newList.nombre\" type=\"text\" \n                  class=\"form-control\" id=\"addListNombre\" \n                  v-bind:placeholder=\"$t('add.ttpNombre')\">\n                  <span v-if=\"errList.nombre\" class=\"small text-danger\">\n                        {{$t('add.errNombre')}}\n                  </span>\n               </div>\n               <div class=\"form-group\">\n                  <label for=\"addListColor\"> {{$t('add.lblColor')}}</label>\n                  <input v-model=\"newList.color\" type=\"color\" class=\"form-control\" \n                  id=\"addListColor\">\n               </div>  \n            </form>\n            <div class=\"btn-group\">\n               <button v-on:click=\"addList()\" class=\"btn btn-primary\">\n                  {{$t('add.btnAddList')}}\n               </button>\n               <button v-on:click=\"listMode()\" class=\"btn btn-danger\">\n                  {{$t('app.btnAtras')}}\n               </button>\n            </div> \n            <div class=\"alert alert-danger\" v-if=\"errAdd!=''\">Error: {{errAdd}}</div>\n         </fieldset>\n      </div>\n   </div>\n</template>\n\n<style scoped>\n.tituloLista { font-size: 2em;}\n</style>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport TaskList from '@/models/TaskList';\nimport moment from 'moment';\n\n@Component({\n   filters: {\n      formatDate: function (value: any) {\n         //TODO, verificar que hay algo en value!\n         let aux = moment(value);\n         return aux.format(\"DD/MM/YYYY hh:mm:ss\");\n      }\n   }\n})\n\nexport default class Mislistas extends Vue {\n   $refs!: {\n    newList_nombre: HTMLFormElement\n  }\n   @Prop() private titulo!: string;\n   mode=\"list\";\n   //VUEX: lists:TaskList[]=[];\n   newList:TaskList=new TaskList();\n   errList= {nombre: false};\n   slctVisible='T';\n   errGet=\"\";\n   errAdd=\"\";\n   mounted() {\n      this.$store.dispatch(\"getLists\");\n      this.errGet=\"\";\n      if (this.hayError()) {\n         this.errGet = this.getError();\n      }\n   }\n   hayError() {\n      return this.$store.getters.getError!=\"\"; \n   }\n   getError() {\n      return this.$store.getters.getError;\n   }\n   getAll() {\n      return this.$store.getters.getAll;\n   }\n   getCount() {\n      return this.$store.getters.getCount;\n   }\n   addMode():void {\n      //VUEX: let nextId= this.lists.length>0?this.lists[this.lists.length-1].id+1:+1;\n      //API: let nextId= this.$store.getters.getNextId;\n      this.newList = new TaskList();\n      //API: this.newList.id= nextId;\n      this.mode=\"add\";\n      this.errList.nombre=false;\n   }\n   listMode():void {\n      this.mode=\"list\";\n   }\n   addList():void {\n      if (this.newList.nombre != \"\") {\n         this.newList.fecha = moment();\n\t\t\t//VUEX: this.lists.push(this.newList);\n         //API: this.$store.commit('add', this.newList);\n         this.$store.dispatch(\"addList\", this.newList);\n         this.errAdd=\"\";\n         if (this.hayError()) {\n            this.errAdd = this.getError();\n         } else {\n            this.mode = 'list';\n         }\n\t\t} else {\n\t\t\tthis.errList.nombre = true;\n\t\t\tthis.$refs.newList_nombre.focus();\n\t\t}\n   }\n   deleteList(list:number) {\n      //VUEX: this.lists.splice(list, 1);\n      this.$store.commit('del', list);\n   }\n   visibleList(index:number) {\n      //VUEX: this.lists[index].visible = (this.lists[index].visible ? false : true);\n      this.$store.commit('setVisible', index);\n   }\n   getVisibility(index:number) {\n      let res = true;\n      switch (this.slctVisible) {\n         case \"V\":\n            //VUEX: res = this.lists[index].visible;\n            res = this.$store.getters.getVisible(index);\n            break;\n         case \"N\":\n            //VUEX: res = !this.lists[index].visible;\n            res = !this.$store.getters.getVisible(index);\n            break;\n         default:\n            res = true;\n            break;\n      }\n      return res;\n   }\n}\n</script>\n\n\n"]}]}